# 万能闹钟 MagicAlarm
- Author: 周海汉 zhouhh <ablozhou@gmail.com>
- Address: http://github.com/ablozhou/magicalarm
 
本工具初衷是提醒站起来走动喝点水。
当然可以用于提醒女朋友生日和办其他重要事情之类。

#### 介绍
万能闹钟
支持crontab方式添加闹钟

#### 环境
- JDK 9+
系统最低需求java 9

#### 安装教程

`mvn package`

复制Alarmer.xxx.jar 和 libs 到 bin

Windows执行run.bat
Linux/Mac 执行run.sh

#### 使用说明
解压zip文件

Windows执行run.bat

Linux/Mac 执行run.sh

闹钟配置文件config.txt示例
```
#秒(0-59) 分(0-59) 时(0-23) 日(1-31) 月(0-11) 星期几(1-7,1为周日) 年(可选) 事项
# 0/n 表示从0开始，每隔n个单位执行。
# '*' 表示对应时间域的每一个时刻。
# '?' 表示该栏不需要，仅用于星期和日期。日期和星期两个必须有一个是'?',但不能都是'?'
# 星期 1=SUN，2=MON ... 或 SUN，MON，TUE，WED，THU，FRI，SAT
# ';' 用于分隔时间设置和提示信息

#秒 分 时 日 月 星期几 [年]

0/20 * * ? * * ; 20秒一次骚扰

0 0/30 8-12,14-22 ? * 2-7;  8点到22点，星期一到星期五,每30分钟起立喝水
0 50 11 ? * 2-6 ; 11:50吃午饭
0 30 18 ? * 2-6 ; 周一到周五(2-6，)，18点半下班打卡
# 0 30 18 ? * 2,3,4,5,6 ;下班打卡周一到周六(2,3,4,5,6)，18点半下班打卡，另一种写法
0 0/20 10-19 ? * * ; 20分钟一次，番茄计时，工作时间
```
#### cron 表达式
1. 各字段的含义
```
位置 时间域名 允许值 允许的特殊字符
1 秒 0-59 , - * /
2 分钟 0-59 , - * /
3 小时 0-23 , - * /
4 日 1-31 , - * / L W C
5 月 1-12 , - * /
6 星期 1-7 , - * ? / L C #
7 年(可选) 1970-2099 , - * /
```
#### 字段允许值
字段 | 允许值 | 允许的特殊字符
-- | -- | --
秒 | 0-59 | , - * / 
分 | 0-59 | , - * / 
小时 | 0-23 |, - * / 
日期 | 1-31 | , - * ? / L W C 
月份 | 1-12 或者 JAN-DEC | , - * / 
星期 | 1-7 或者 SUN-SAT | , - * ? / L C # 
年（可选）| 留空, 1970-2099 | , - * / 

Cron表达式的时间字段除允许设置数值外，还可使用一些特殊的字符，提供列表、范围、通配符等功能，细说如下：
- 星号(*)：可用在所有字段中，表示对应时间域的每一个时刻，例如:*在分钟字段时，表示“每分钟”；

- 问号（?）：该字符只在日期和星期字段中使用，它通常指定为“无意义的值”，相当于占位符；

- 减号(-)：表达一个范围，如在小时字段中使用“10-12”，则表示从10到12点，即10,11,12；

- 逗号(,)：表达一个列表值，如在星期字段中使用“MON,WED,FRI”，则表示星期一，星期三和星期五；

- 斜杠(/)：x/y表达一个等步长序列，x为起始值，y为增量步长值。如在分钟字段中使用0/15，则表示为0,15,30和45秒，而5/15在分钟字段中表示5,20,35,50，你也可以使用*/y，它等同于0/y；

- L：该字符只在日期和星期字段中使用，代表“Last”的意思，但它在两个字段中意思不同。L在日期字段中，表示这个月份的最后一天，如一月的31号，非闰年二月的28号；如果L用在星期中，则表示星期六，等同于7。但是，如果L出现在星期字段里，而且在前面有一个数值X，则表示“这个月的最后X天”，例如，6L表示该月的最后星期五；

- W：该字符只能出现在日期字段里，是对前导日期的修饰，表示离该日期最近的工作日。例如15W表示离该月15号最近的工作日，如果该月15号是星期六，则匹配14号星期五；如果15日是星期日，则匹配16号星期一；如果15号是星期二，那结果就是15号星期二。但必须注意关联的匹配日期不能够跨月，如你指定1W，如果1号是星期六，结果匹配的是3号星期一，而非上个月最后的那天。W字符串只能指定单一日期，而不能指定日期范围；

- LW组合：在日期字段可以组合使用LW，它的意思是当月的最后一个工作日；

- 井号(#)：该字符只能在星期字段中使用，表示当月某个工作日。如6#3表示当月的第三个星期五(6表示星期五，#3表示当前的第三个)，而4#5表示当月的第五个星期三，假设当月没有第五个星期三，忽略不触发；

- C：该字符只在日期和星期字段中使用，代表“Calendar”的意思。它的意思是计划所关联的日期，如果日期没有被关联，则相当于日历中所有日期。例如5C在日期字段中就相当于日历5日以后的第一天。1C在星期字段中相当于星期日后的第一天。


#### 参与贡献

1.  Fork 本仓库: https://gitee.com/ablozhou/magicalarm.git
2.  新建 Feat_xxx 分支
3.  提交代码
4.  新建 Pull Request

#### Todo
添加声音和音乐
